<div class="container mx-auto p-6 max-w-md bg-white rounded-lg shadow-md">
    <h1 class="text-2xl font-bold text-center mb-4">What is this image?</h1>

    <!-- High Score and Current Score -->
    <div class="flex justify-between items-center mb-4">
        <p class="text-lg font-medium">Score: {{ score }}</p>
        <p class="text-lg font-medium">High Score: {{ highScore }}</p>
    </div>

    <!-- Game Over Section -->
    <div *ngIf="gameOver" class="text-center">
        <p class="text-lg text-red-500 mb-4">Game Over! ðŸ˜ž</p>
        <p class="text-lg font-bold">Final Score: {{ score }}</p>
        <p class="text-lg font-bold text-green-500">High Score: {{ highScore }}</p>
        <button 
            class="bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition mt-4" 
            (click)="resetGame()">
            Restart Game
        </button>
    </div>

    <!-- Game Content -->
    <div *ngIf="!gameOver">
        <!-- Display silhouette -->
        <div *ngIf="silhouette; else loading">
            <img [src]="'data:image/png;base64,' + silhouette" alt="Pokemon Silhouette" class="w-full mb-4">
        </div>

        <ng-template #loading>
            <p class="text-center text-gray-500">Loading...</p>
        </ng-template>

        <!-- Tries Left -->
        <div class="flex justify-center items-center mb-4">
            <img *ngFor="let poke of pokeballs; let i = index" 
                [src]="poke" 
                alt="Pokeball" 
                class="w-10 h-10 mx-2"
                [class.opacity-50]="i >= (3 - wrongGuesses)">
        </div>

        <!-- Answer Options -->
        <div *ngIf="answers.length > 0; else loading">
            <div class="grid grid-cols-2 gap-4">
                <button 
                    *ngFor="let answer of answers" 
                    class="bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition"
                    (click)="verifyAnswer(answer)">
                    {{ answer }}
                </button>
            </div>
        </div>

        <!-- Result Message -->
        <p *ngIf="resultMessage" class="text-center mt-4 font-medium"
            [class.text-green-500]="resultMessage.includes('Correct')"
            [class.text-red-500]="resultMessage.includes('Wrong')">
            {{ resultMessage }}
        </p>
    </div>
</div>
